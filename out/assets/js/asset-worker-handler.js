(()=>{let e=window,t=new Worker(e.__sy_a.wp);e.assetLoader={};let n=new Map,s=new Map,a=new Map;e.loadAsset=(o,r,...i)=>{let l=Date.now().toString(36)+Math.random().toString(36).substring(2,15);"string"==typeof o&&(l=o,o=[o]),e.assetLoader[l]={assetIds:new Set(o)},o.forEach(e=>{if(s.has(e)){let t=s.get(e);d(e,t);return void r?.(t)}if(a.has(e)||a.set(e,[]),r&&a.get(e).push(r),n.has(e))return void n.get(e).add(l);n.set(e,new Set([l]));let o={type:"LOAD_ASSET",assetId:e,id:l};t.postMessage(o)})};let o=(e,t)=>{let n=document.getElementById(e);if(n)return n.textContent=t,void console.warn(`Asset with ID ${e} already exists. Skipping creation.`);n=document.createElement("script"),n.id=e,n.textContent=t,document.head.appendChild(n)},r=(e,t)=>{let n=document.getElementById(e);if(n)return n.textContent=t,void console.warn(`Asset with ID ${e} already exists. Skipping creation.`);n=document.createElement("style"),n.id=e,n.textContent=t,document.head.appendChild(n)};function d(e,t){let{content:n}=t,s=function(e){if(e)return e.split(";")[0]?.trim()?.toLowerCase()}(t.type);if(console.log(`Adding loaded asset: ${e} (Type: ${s})`),"application/javascript"===s||"text/javascript"===s)o(e,n);else{if("text/css"!==s)return console.info(`Content type for asset ${e} is:`,s),!1;r(e,n)}return!0}t.addEventListener("message",e=>{let t=e.data;switch(t.type){case"ASSET_LOADED":{let{assetId:e,metadata:o}=t.data;s.set(e,o);d(e,o);(a.get(e)||[]).forEach(e=>e(o)),a.delete(e),n.delete(e);break}case"ERROR":console.error("Error loading asset:",t.error);break;default:console.error("Unknown worker message:",t)}})})();